@model List<Email>;
<form id="emailListForm" method="post">
    <div class="d-flex table-responsive p-5">
        <table class="table">
            <thead>
                <tr>
                    <th>Icon</th>
                    <th>Title</th>
                    <th>Part of mail</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                @foreach (Email mail in Model)
                {
                    <tr name="chosenEmail" value="@mail.Id">
                        <td><object class="image/svg+xml" data="mail.svg"></object></td>
                        <td><a role="button" id="viewButton"class="btn-primary btn-link" onclick="submitView('@mail.Id')">@mail.Title</a></td>
                        <td>@mail.Body</td>
                        <td><a role="button" onclick="submitDelete('@mail.Id')" class="btn btn-outline-danger"><object class="image/svg+xml" data="trash-2.svg" tooltip="Delete Mail">D</object></a></td>
                    </tr>

                }
            </tbody>

        </table>
    </div>
</form>

<script>

    function submitView(mailId) {
        var form = document.getElementById('emailListForm');
        form.action = '/Email/ViewEmail';
        return submitEmailCommand(mailId, form);
    }
    function submitDelete(mailId) {
        var form = document.getElementById('emailListForm');
        form.action = '/Email/DeleteEmail';
        return submitEmailCommand(mailId, form);
    }

    function submitEmailCommand(mailId,form) {
        if (!input) {
            var input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'mailId';
            input.id = 'mailIdInput';
        }
        input.value = mailId;
        form.appendChild(input);
        form.submit();
    }
</script>